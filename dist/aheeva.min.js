!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AH=t():e.AH=t()}(this,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},s=function(){function e(){}return e.url="",e.realm="",e.hidden=!0,e.elementId="body",e.init=function(t){if(window.isListenerSet||(window.addEventListener("message",e.HandleEvent,!1),window.isListenerSet=!0),t){var n=t.url,o=t.realm,s=t.elementId,r=t.hidden;n&&o&&s?(e.url=n,e.realm=o,e.hidden=r||!1,e.elementId=s,e.frame=e.Setup(),console.log("Initialized Aheeva App Framework")):console.error("Fields: url, realm, elementId are required")}else e.frame=e.Setup(),console.log("Initialized Aheeva App Framework")},e.HandleEvent=function(e){var t=e.data,n=t.eventType,o=t.module,s=t.direction,r=t.message,a=t.response;if(-1==JSON.stringify({module:o,eventType:n,direction:s,message:r,response:a}).indexOf("WakeUp"))try{var i=document.createElement("div");i.innerText="â†‘ "+(new Date).toISOString()+": "+JSON.stringify({module:o,eventType:n,direction:s,message:r,response:a});var u=document.getElementById("console");u&&u.insertBefore(i,u.firstChild)}catch(e){console.error(e)}},e.Setup=function(){var t;if(e.url&&e.realm){var n=document.createElement("iframe");return n.id="aheeva_frame",n.setAttribute("sandbox","allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"),n.setAttribute("allow","camera;microphone"),n.style.visibility=e.hidden?"hidden":"visible",n.style.width="100%",n.style.height="100%",n.src=e.url+"?"+e.realm,"body"===e.elementId?document.body.appendChild(n):null===(t=document.getElementById(e.elementId))||void 0===t||t.appendChild(n),document.getElementById(n.id).contentWindow}return window.parent},e.SendMessage=function(t){e.frame.postMessage(o(o({},t),{requester:"AheevaAppFrameWork"}),"*")},e.LoginAgent=function(t,n,o){e.SendMessage({requestId:o,action:"LoginAgent",message:{username:t,password:n}})},e.LogoutAgent=function(t){e.SendMessage({requestId:t,action:"LogoutAgent"})},e.GetCurrentUser=function(t){e.SendMessage({requestId:t,action:"GetCurrentUser"})},e.SetAgentStatus=function(t,n,o){e.SendMessage({requestId:o,action:"SetAgentStatus",message:{status:t,reason:n}})},e.HangupAllCalls=function(t){e.SendMessage({requestId:t,action:"HangupAllCalls"})},e.TransferToIVR=function(t,n){e.SendMessage({requestId:n,action:"TransferToIVR",message:{IVR:t}})},e.TransferToPhone=function(t,n){e.SendMessage({requestId:n,action:"TransferToPhone",message:{phoneNumber:t}})},e.Call=function(t,n){e.SendMessage({requestId:n,action:"Call",message:{phoneNumber:t}})},e.ToggleCallRecordingStatus=function(t,n){e.SendMessage({requestId:t,action:"ToggleCallRecordingStatus",message:{tracknum:n}})},e.ToggleCallHoldStatus=function(t,n){e.SendMessage({requestId:t,action:"ToggleCallHoldStatus",message:{tracknum:n}})},e.SetupConferenceCallWithAgent=function(t,n){e.SendMessage({requestId:n,action:"SetupConferenceCallWithAgent",message:{agentID:t}})},e.SetupConferenceCallWithPhoneNumber=function(t,n){e.SendMessage({requestId:n,action:"SetupConferenceCallWithPhoneNumber",message:{phoneNumber:t}})},e.LeaveConference=function(t){e.SendMessage({requestId:t,action:"LeaveConference"})},e.ClearBlockingModes=function(t){e.SendMessage({requestId:t,action:"ClearBlockingModes"})},e.GetCurrentCallList=function(t){e.SendMessage({requestId:t,action:"GetCurrentCallList"})},e.GetCallHistory=function(t){e.SendMessage({requestId:t,action:"GetCallHistory"})},e.GetMessages=function(t,n){e.SendMessage({requestId:n,action:"GetMessages",message:{channelType:t}})},e.GetAccounts=function(t,n){e.SendMessage({requestId:n,action:"GetAccounts",message:{channelType:t}})},e.ComposeEmailMessage=function(t,n,o,s,r,a,i,u,l){e.SendMessage({requestId:l,action:"ComposeEmailMessage",message:{recipient:t,firstName:n,lastName:o,subject:s,cc:r,bcc:a,text:i,channelAccountID:u}})},e.ComposeSMSMessage=function(t,n,o,s,r,a){e.SendMessage({requestId:a,action:"ComposeSMSMessage",message:{recipient:t,firstName:n,lastName:o,channelAccountID:r,text:s}})},e.MarkInteractionAsRead=function(t,n){e.SendMessage({requestId:n,action:"MarkInteractionAsRead",message:{interactionID:t}})},e.AddInteraction=function(t,n,o,s,r){e.SendMessage({requestId:r,action:"AddInteraction",message:{threadID:t,interactionID:n,to:o,text:s}})},e}();t.default=s}]).default}));