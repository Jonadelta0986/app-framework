!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.AH=n():e.AH=n()}(this,(function(){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var s=n[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,t),s.l=!0,s.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var s in e)t.d(o,s,function(n){return e[n]}.bind(null,s));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);var o=function(){return(o=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e}).apply(this,arguments)},s=function(){function e(){}return e.url="",e.realm="",e.hidden=!0,e.elementId="body",e.init=function(n){if(window.isListenerSet||(window.addEventListener("message",e.HandleEvent,!1),window.isListenerSet=!0),n){var t=n.url,o=n.realm,s=n.elementId,r=n.hidden;t&&o&&s?(e.url=t,e.realm=o,e.hidden=r||!1,e.elementId=s,e.frame=e.Setup(),console.log("Initialized Aheeva App Framework")):console.error("Fields: url, realm, elementId are required")}else e.frame=e.Setup(),console.log("Initialized Aheeva App Framework")},e.HandleEvent=function(e){var n=e.data,t=n.eventType,o=n.module,s=n.direction,r=n.message,a=n.response;if(-1==JSON.stringify({module:o,eventType:t,direction:s,message:r,response:a}).indexOf("WakeUp"))try{var i=document.createElement("div");i.innerText="â†‘ "+(new Date).toISOString()+": "+JSON.stringify({module:o,eventType:t,direction:s,message:r,response:a});var u=document.getElementById("console");u&&u.insertBefore(i,u.firstChild)}catch(e){console.error(e)}},e.Setup=function(){var n;if(e.url&&e.realm){var t=document.createElement("iframe");return t.id="aheeva_frame",t.setAttribute("sandbox","allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"),t.setAttribute("allow","camera;microphone"),t.style.visibility=e.hidden?"hidden":"visible",t.style.width="100%",t.style.height="100%",t.src=e.url+"?"+e.realm,"body"===e.elementId?document.body.appendChild(t):null===(n=document.getElementById(e.elementId))||void 0===n||n.appendChild(t),document.getElementById(t.id).contentWindow}return window.parent},e.SendMessage=function(n){e.frame.postMessage(o(o({},n),{requester:"AheevaAppFrameWork"}),"*")},e.LoginAgent=function(n,t,o){e.SendMessage({requestId:o,action:"LoginAgent",message:{username:n,password:t}})},e.LogoutAgent=function(n){e.SendMessage({requestId:n,action:"LogoutAgent"})},e.GetCurrentUser=function(n){e.SendMessage({requestId:n,action:"GetCurrentUser"})},e.SetAgentStatus=function(n,t,o){e.SendMessage({requestId:o,action:"SetAgentStatus",message:{status:n,reason:t}})},e.AutoConfirmExtension=function(n){e.SendMessage({requestId:n,action:"AutoConfirmExtension"})},e.HangupAllCalls=function(n){e.SendMessage({requestId:n,action:"HangupAllCalls"})},e.TransferToIVR=function(n,t){e.SendMessage({requestId:t,action:"TransferToIVR",message:{IVR:n}})},e.TransferToPhone=function(n,t){e.SendMessage({requestId:t,action:"TransferToPhone",message:{phoneNumber:n}})},e.Call=function(n,t){e.SendMessage({requestId:t,action:"Call",message:{phoneNumber:n}})},e.ToggleCallRecordingStatus=function(n,t){e.SendMessage({requestId:n,action:"ToggleCallRecordingStatus",message:{tracknum:t}})},e.ToggleCallHoldStatus=function(n,t){e.SendMessage({requestId:n,action:"ToggleCallHoldStatus",message:{tracknum:t}})},e.SetupConferenceCallWithAgent=function(n,t){e.SendMessage({requestId:t,action:"SetupConferenceCallWithAgent",message:{agentID:n}})},e.SetupConferenceCallWithPhoneNumber=function(n,t){e.SendMessage({requestId:t,action:"SetupConferenceCallWithPhoneNumber",message:{phoneNumber:n}})},e.LeaveConference=function(n){e.SendMessage({requestId:n,action:"LeaveConference"})},e.ClearBlockingModes=function(n){e.SendMessage({requestId:n,action:"ClearBlockingModes"})},e.GetCurrentCallList=function(n){e.SendMessage({requestId:n,action:"GetCurrentCallList"})},e.GetCallHistory=function(n){e.SendMessage({requestId:n,action:"GetCallHistory"})},e.GetMessages=function(n,t){e.SendMessage({requestId:t,action:"GetMessages",message:{channelType:n}})},e.GetAccounts=function(n,t){e.SendMessage({requestId:t,action:"GetAccounts",message:{channelType:n}})},e.ComposeEmailMessage=function(n,t,o,s,r,a,i,u,l){e.SendMessage({requestId:l,action:"ComposeEmailMessage",message:{recipient:n,firstName:t,lastName:o,subject:s,cc:r,bcc:a,text:i,channelAccountID:u}})},e.ComposeSMSMessage=function(n,t,o,s,r,a){e.SendMessage({requestId:a,action:"ComposeSMSMessage",message:{recipient:n,firstName:t,lastName:o,channelAccountID:r,text:s}})},e.MarkInteractionAsRead=function(n,t){e.SendMessage({requestId:t,action:"MarkInteractionAsRead",message:{interactionID:n}})},e.AddInteraction=function(n,t,o,s,r){e.SendMessage({requestId:r,action:"AddInteraction",message:{threadID:n,interactionID:t,to:o,text:s}})},e}();n.default=s}]).default}));