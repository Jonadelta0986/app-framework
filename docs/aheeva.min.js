!function(e,n){for(var t in n)e[t]=n[t]}(window,function(e){var n={};function t(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:s})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(s,o,function(n){return e[n]}.bind(null,o));return s},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n),t.d(n,"AH",(function(){return o}));var s=function(){return(s=Object.assign||function(e){for(var n,t=1,s=arguments.length;t<s;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},o=function(){function e(){}return e.url="",e.realm="",e.hidden=!0,e.elementId="body",e.init=function(n){window.isListenerSet||(window.addEventListener("message",e.HandleEvent,!1),window.isListenerSet=!0);var t=n.url,s=n.realm,o=n.elementId,r=n.hidden;t&&s?(e.url=t,e.realm=s,e.hidden=r,o&&(e.elementId=o),e.iframe=e.Setup(),console.log("Initialized Aheeva App Framework")):console.error("Fields: url, realm are required")},e.HandleEvent=function(e){var n=e.data,t=n.eventType,s=n.module,o=n.direction,r=n.message,a=n.response;if(-1==JSON.stringify({module:s,eventType:t,direction:o,message:r,response:a}).indexOf("WakeUp"))try{var i=document.createElement("div");i.innerText="â†‘ "+(new Date).toISOString()+": "+JSON.stringify({module:s,eventType:t,direction:o,message:r,response:a});var u=document.getElementById("console");u&&u.insertBefore(i,u.firstChild)}catch(e){console.error(e)}},e.Setup=function(){var n,t=document.createElement("iframe");return t.id="aheeva_frame",t.setAttribute("sandbox","allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"),t.setAttribute("allow","camera;microphone"),t.style.visibility=e.hidden?"hidden":"visible",t.style.width="100%",t.style.height="100%",t.src=e.url+"?"+e.realm,"body"===e.elementId?document.body.appendChild(t):null===(n=document.getElementById(e.elementId))||void 0===n||n.appendChild(t),document.getElementById(t.id)},e.SendMessage=function(n){var t;null===(t=e.iframe.contentWindow)||void 0===t||t.postMessage(s(s({},n),{requester:"AheevaAppFrameWork"}),"*")},e.LoginAgent=function(n,t,s){e.SendMessage({requestId:s,action:"LoginAgent",message:{username:n,password:t}})},e.LogoutAgent=function(n){e.SendMessage({requestId:n,action:"LogoutAgent"})},e.GetCurrentUser=function(n){e.SendMessage({requestId:n,action:"GetCurrentUser"})},e.SetAgentStatus=function(n,t){e.SendMessage({requestId:t,action:"SetAgentStatus",message:{status:n}})},e.HangupAllCalls=function(n){e.SendMessage({requestId:n,action:"HangupAllCalls"})},e.TransferToIVR=function(n,t){e.SendMessage({requestId:t,action:"TransferToIVR",message:{IVR:n}})},e.TransferToPhone=function(n,t){e.SendMessage({requestId:t,action:"TransferToPhone",message:{phoneNumber:n}})},e.Call=function(n,t){e.SendMessage({requestId:t,action:"Call",message:{phoneNumber:n}})},e.ToggleCallRecordingStatus=function(n,t){e.SendMessage({requestId:n,action:"ToggleCallRecordingStatus",message:{tracknum:t}})},e.ToggleCallHoldStatus=function(n,t){e.SendMessage({requestId:n,action:"ToggleCallHoldStatus",message:{tracknum:t}})},e.SetupConferenceCallWithAgent=function(n,t){e.SendMessage({requestId:t,action:"SetupConferenceCallWithAgent",message:{agentID:n}})},e.SetupConferenceCallWithPhoneNumber=function(n,t){e.SendMessage({requestId:t,action:"SetupConferenceCallWithPhoneNumber",message:{phoneNumber:n}})},e.LeaveConference=function(n){e.SendMessage({requestId:n,action:"LeaveConference"})},e.ClearBlockingModes=function(n){e.SendMessage({requestId:n,action:"ClearBlockingModes"})},e.GetCurrentCallList=function(n){e.SendMessage({requestId:n,action:"GetCurrentCallList"})},e.GetCallHistory=function(n){e.SendMessage({requestId:n,action:"GetCallHistory"})},e.GetMessages=function(n,t){e.SendMessage({requestId:t,action:"GetMessages",message:{channelType:n}})},e.GetAccounts=function(n,t){e.SendMessage({requestId:t,action:"GetAccounts",message:{channelType:n}})},e.ComposeEmailMessage=function(n,t,s,o,r,a,i,u,l){e.SendMessage({requestId:l,action:"ComposeEmailMessage",message:{recipient:n,firstName:t,lastName:s,subject:o,cc:r,bcc:a,text:i,channelAccountID:u}})},e.ComposeSMSMessage=function(n,t,s,o,r,a){e.SendMessage({requestId:a,action:"ComposeSMSMessage",message:{recipient:n,firstName:t,lastName:s,channelAccountID:r,text:o}})},e}()}]));