!function(e,n){for(var t in n)e[t]=n[t]}(window,function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n),t.d(n,"AH",(function(){return r}));var o=function(){return(o=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},r=function(){function e(){}return e.url="",e.realm="",e.hidden=!0,e.elementId="body",e.init=function(n){window.addEventListener("message",e.HandleEvent,!1);var t=n.url,o=n.realm,r=n.elementId,s=n.hidden;t&&o?(e.url=t,e.realm=o,e.hidden=s,r&&(e.elementId=r),e.iframe=e.Setup(),console.log("Initialized Aheeva App Framework")):console.error("Fields: url, realm are required")},e.HandleEvent=function(e){var n=e.data,t=n.eventType,o=n.module,r=n.direction,s=n.message,a=n.response;if(-1==JSON.stringify({module:o,eventType:t,direction:r,message:s,response:a}).indexOf("WakeUp"))try{var i=document.createElement("div");i.innerText=(new Date).toISOString()+": "+JSON.stringify({module:o,eventType:t,direction:r,message:s,response:a});var u=document.getElementById("console");u&&u.appendChild(i)}catch(e){console.error(e)}},e.Setup=function(){var n,t=document.createElement("iframe");return t.id="aheeva_frame",t.setAttribute("sandbox","allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"),t.setAttribute("allow","camera;microphone"),t.style.visibility=e.hidden?"hidden":"visible",t.style.width="100%",t.style.height="100%",t.src=e.url+"?"+e.realm,"body"===e.elementId?document.body.appendChild(t):null===(n=document.getElementById(e.elementId))||void 0===n||n.appendChild(t),document.getElementById(t.id)},e.SendMessage=function(n){var t;null===(t=e.iframe.contentWindow)||void 0===t||t.postMessage(o(o({},n),{requester:"AheevaAppFrameWork"}),"*")},e.LoginAgent=function(n,t,o){e.SendMessage({requestId:o,action:"LoginAgent",message:{username:n,password:t}})},e.LogoutAgent=function(n){e.SendMessage({requestId:n,action:"LogoutAgent"})},e.GetCurrentUser=function(n){e.SendMessage({requestId:n,action:"GetCurrentUser"})},e.SetAgentStatus=function(n,t){e.SendMessage({requestId:t,action:"SetAgentStatus",message:{status:n}})},e.HangupAllCalls=function(n){e.SendMessage({requestId:n,action:"HangupAllCalls"})},e.TransferToIVR=function(n,t){e.SendMessage({requestId:t,action:"TransferToIVR",message:{IVR:n}})},e.TransferToPhone=function(n,t){e.SendMessage({requestId:t,action:"TransferToPhone",message:{phoneNumber:n}})},e.Call=function(n,t){e.SendMessage({requestId:t,action:"Call",message:{phoneNumber:n}})},e.ToggleCallRecordingStatus=function(n,t){e.SendMessage({requestId:n,action:"ToggleCallRecordingStatus",message:{tracknum:t}})},e.ToggleCallHoldStatus=function(n,t){e.SendMessage({requestId:n,action:"ToggleCallHoldStatus",message:{tracknum:t}})},e.SetupConferenceCallWithAgent=function(n,t){e.SendMessage({requestId:t,action:"SetupConferenceCallWithAgent",message:{agentID:n}})},e.SetupConferenceCallWithPhoneNumber=function(n,t){e.SendMessage({requestId:t,action:"SetupConferenceCallWithPhoneNumber",message:{phoneNumber:n}})},e.LeaveConference=function(n){e.SendMessage({requestId:n,action:"LeaveConference"})},e.ClearBlockingModes=function(n){e.SendMessage({requestId:n,action:"ClearBlockingModes"})},e.GetMessages=function(n,t){e.SendMessage({requestId:t,action:"GetMessages",message:{channelType:n}})},e.GetAccounts=function(n,t){e.SendMessage({requestId:t,action:"GetAccounts",message:{channelType:n}})},e.ComposeEmailMessage=function(n,t,o){e.SendMessage({requestId:o,action:"ComposeEmailMessage",message:{recipient:n,text:t}})},e.ComposeSMSMessage=function(n,t,o){e.SendMessage({requestId:o,action:"ComposeSMSMessage",message:{recipient:n,text:t}})},e}()}]));